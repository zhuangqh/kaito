"use strict";(self.webpackChunkkaito_website=self.webpackChunkkaito_website||[]).push([[1631],{6566:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"gpu-benchmarks","title":"GPU Benchmarks","description":"These benchmarks help users choose the optimal GPU SKU for running their AI models with Kaito. We compare performance characteristics across different GPU types to guide cost-effective hardware selection.","source":"@site/docs/gpu-benchmarks.md","sourceDirName":".","slug":"/gpu-benchmarks","permalink":"/kaito/docs/next/gpu-benchmarks","draft":false,"unlisted":false,"editUrl":"https://github.com/kaito-project/kaito/tree/main/website/docs/gpu-benchmarks.md","tags":[],"version":"current","frontMatter":{"title":"GPU Benchmarks"},"sidebar":"sidebar","previous":{"title":"Bring Your Own GPU Nodes","permalink":"/kaito/docs/next/kaito-on-byo-gpu-nodes"},"next":{"title":"Contributing","permalink":"/kaito/docs/next/contributing"}}');var s=t(4848),r=t(8453);const o={title:"GPU Benchmarks"},a=void 0,c={},h=[{value:"Test Setup",id:"test-setup",level:2},{value:"Benchmark Results",id:"benchmark-results",level:2},{value:"Time to First Token (TTFT) Comparison",id:"time-to-first-token-ttft-comparison",level:3},{value:"Inter-Token Latency (ITL) Comparison",id:"inter-token-latency-itl-comparison",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"These benchmarks help users choose the optimal GPU SKU for running their AI models with Kaito. We compare performance characteristics across different GPU types to guide cost-effective hardware selection."}),"\n",(0,s.jsx)(n.h2,{id:"test-setup",children:"Test Setup"}),"\n",(0,s.jsx)(n.p,{children:"We built a cluster with Kaito and a single GPU node (without node auto-provisioning). The following Nvidia GPU instance types were used to represent a small and medium size node."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"1x Nvidia A10 GPU (24GB VRAM)"}),"\n",(0,s.jsx)(n.li,{children:"1x Nvidia A100 GPU (80GB VRAM)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["A Kaito workspace was created with the ",(0,s.jsx)(n.code,{children:"phi-4-mini-instruct"})," model and ",(0,s.jsx)(n.code,{children:"max-model-len = 50000"})," in the inference config map."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"More models will be added in the future"})}),"\n",(0,s.jsxs)(n.p,{children:["Then, the benchmarks were conducted using ",(0,s.jsx)(n.a,{href:"https://github.com/neuralmagic/guidellm",children:"GuideLLM"})," and the ",(0,s.jsx)(n.code,{children:"phi-4-mini-instruct"})," model. GuideLLM was configured with the following parameters:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Prompt tokens: 200"}),"\n",(0,s.jsx)(n.li,{children:"Output tokens: 200"}),"\n",(0,s.jsx)(n.li,{children:"Poisson distribution at 1, 2, 4, 8, 16 requests per second"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"An example of how to run the benchmark:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'export RATE="16"\nguidellm benchmark \\\n  --target "http://127.0.0.1:8000" \\\n  --rate-type poisson \\\n  --rate "$RATE" \\\n  --data "prompt_tokens=200,output_tokens=200" \\\n  --model phi-4-mini-instruct \\\n  --processor microsoft/phi-4-mini-instruct \\\n  --output-path="./benchmark-phi4-p$RATE.csv"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"benchmark-results",children:"Benchmark Results"}),"\n",(0,s.jsx)(n.h3,{id:"time-to-first-token-ttft-comparison",children:"Time to First Token (TTFT) Comparison"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"TTFT Benchmarks",src:t(8187).A+"",width:"2035",height:"1217"})}),"\n",(0,s.jsx)(n.p,{children:"The A10 GPU shows good performance for moderate workloads but begins to struggle under high concurrent load, particularly at 16 requests per second, where the latency spikes from 480 ms to 14 seconds."}),"\n",(0,s.jsx)(n.p,{children:"The A100, on the other hand, maintains consistent latency as the requests per second increase, meaning it has more than enough bandwidth to run this model. And since no performance degredation was observed, it is likely overpowered for this workload."}),"\n",(0,s.jsx)(n.h3,{id:"inter-token-latency-itl-comparison",children:"Inter-Token Latency (ITL) Comparison"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ITL Benchmarks",src:t(9084).A+"",width:"2035",height:"1217"})}),"\n",(0,s.jsx)(n.p,{children:"The A10 GPU shows an exponential increase in ITL as the request rate increases, indicating that it struggles to keep up with the demands of higher concurrency."}),"\n",(0,s.jsx)(n.p,{children:"The A100, again shows a minimal increase in ITL as the request rate increases, demonstrating that it is more than powerful enough to run this model and can likely handle even greater loads without issue."})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8187:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ttft-benchmark-696deabbb4d20cd5ce644f371d12da70.png"},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}},9084:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/itl-benchmark-a85e51920b320e9cabb4d50e65957f3c.png"}}]);