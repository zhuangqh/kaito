<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-model-as-oci-artifacts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Model As OCI Artifacts | KAITO</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kaito-project.github.io/kaito/docs/img/kaito-logo.png"><meta data-rh="true" name="twitter:image" content="https://kaito-project.github.io/kaito/docs/img/kaito-logo.png"><meta data-rh="true" property="og:url" content="https://kaito-project.github.io/kaito/docs/next/model-as-oci-artifacts"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Model As OCI Artifacts | KAITO"><meta data-rh="true" name="description" content="Efficiently distribute Large Language Models using Open Container Initiative (OCI) Artifacts"><meta data-rh="true" property="og:description" content="Efficiently distribute Large Language Models using Open Container Initiative (OCI) Artifacts"><link data-rh="true" rel="icon" href="/kaito/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kaito-project.github.io/kaito/docs/next/model-as-oci-artifacts"><link data-rh="true" rel="alternate" href="https://kaito-project.github.io/kaito/docs/next/model-as-oci-artifacts" hreflang="en"><link data-rh="true" rel="alternate" href="https://kaito-project.github.io/kaito/docs/next/model-as-oci-artifacts" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://DUMMY_APP_ID-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Model As OCI Artifacts","item":"https://kaito-project.github.io/kaito/docs/next/model-as-oci-artifacts"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="KAITO" href="/kaito/docs/opensearch.xml">

<meta name="algolia-site-verification" content="DUMMY_SITE_VERIFICATION"><link rel="stylesheet" href="/kaito/docs/assets/css/styles.9700f45c.css">
<script src="/kaito/docs/assets/js/runtime~main.db876f91.js" defer="defer"></script>
<script src="/kaito/docs/assets/js/main.005d530b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like KAITO, please give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/kaito-project/kaito">GitHub</a>!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/kaito/docs/"><div class="navbar__logo"><img src="/kaito/docs/img/kaito-logo.png" alt="KAITO Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/kaito/docs/img/kaito-logo.png" alt="KAITO Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">KAITO</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/kaito/docs/next/model-as-oci-artifacts">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/kaito/docs/next/model-as-oci-artifacts">Next</a></li><li><a class="dropdown__link" href="/kaito/docs/model-as-oci-artifacts">v0.6.x</a></li><li><a class="dropdown__link" href="/kaito/docs/v0.5.x/model-as-oci-artifacts">v0.5.x</a></li></ul></div><a href="https://github.com/kaito-project/kaito" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kaito/docs/next/">Getting Started</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/presets">Presets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/usage">Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/faq">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kaito/docs/next/azure">Cloud Providers</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/azure">Azure Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/aws">AWS Setup</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/kaito/docs/next/inference">Features</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/inference">Inference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/multi-node-inference">Multi-Node Inference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/tuning">Fine Tuning</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/kaito/docs/next/rag">Retrieval-Augmented Generation (RAG)</a><button aria-label="Expand sidebar category &#x27;Retrieval-Augmented Generation (RAG)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/custom-model">Custom Model Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/tool-calling">Tool Calling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/kaito/docs/next/model-as-oci-artifacts">Model As OCI Artifacts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/headlamp-kaito">Headlamp KAITO</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kaito/docs/next/aikit">Integrations</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/aikit">AIKit Integration with KAITO</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kaito/docs/next/monitoring">Operations</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/kaito-oom-prevention">OOM Prevention</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/kaito-on-byo-gpu-nodes">Bring Your Own GPU Nodes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kaito/docs/next/contributing">Contributing</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/preset-onboarding">Preset onboarding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/proposals">Proposals</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->KAITO<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/kaito/docs/model-as-oci-artifacts">latest version</a></b> (<!-- -->v0.6.x<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/kaito/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Features</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Model As OCI Artifacts</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Model As OCI Artifacts</h1></header>
<p>KAITO efficiently distributes Large Language Models (LLMs) by leveraging Open Container Initiative (OCI) Artifacts to package and deploy model weights separately from the inference runtime. This architecture provides superior performance, scalability, and maintainability for large language model deployments.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>KAITO uses a split architecture approach for model distribution:</p>
<ul>
<li><strong>Base Images</strong>: Contain the inference runtime and dependencies</li>
<li><strong>OCI Artifacts</strong>: Contain the model weights and configuration files stored separately in OCI registries</li>
</ul>
<p>This design choice enables KAITO to optimize both build and deployment performance while maintaining compatibility with standard container infrastructure. The model weights are downloaded as OCI artifacts during pod initialization, providing faster deployment times and more efficient resource utilization compared to traditional monolithic container images.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="design-rationale">Design Rationale<a href="#design-rationale" class="hash-link" aria-label="Direct link to Design Rationale" title="Direct link to Design Rationale">​</a></h2>
<p>KAITO chose the OCI Artifacts approach to address fundamental challenges in large language model distribution and deployment:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-efficiency">Build Efficiency<a href="#build-efficiency" class="hash-link" aria-label="Direct link to Build Efficiency" title="Direct link to Build Efficiency">​</a></h3>
<p>By separating model weights from base images, KAITO eliminates redundant rebuilds:</p>
<ul>
<li><strong>Reduced Build Time</strong>: Model images only need to be built once and can be reused across base image updates</li>
<li><strong>Efficient Build Context</strong>: Large model files are not included in Docker build context, avoiding unnecessary transfers</li>
<li><strong>Resource Optimization</strong>: Build processes for large models like Falcon-40B are reduced from nearly 2 hours to minutes</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-performance">Deployment Performance<a href="#deployment-performance" class="hash-link" aria-label="Direct link to Deployment Performance" title="Direct link to Deployment Performance">​</a></h3>
<p>KAITO&#x27;s OCI Artifacts approach optimizes the deployment pipeline:</p>
<ul>
<li><strong>Concurrent Downloads</strong>: Model weights can be downloaded in parallel, improving bandwidth utilization</li>
<li><strong>Advanced Compression</strong>: Zstd compression provides better decompression performance than traditional gzip</li>
<li><strong>Optimized Unpacking</strong>: Separate artifact handling reduces serialization bottlenecks during pod startup</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-container-performance">Understanding Container Performance<a href="#understanding-container-performance" class="hash-link" aria-label="Direct link to Understanding Container Performance" title="Direct link to Understanding Container Performance">​</a></h4>
<p>KAITO&#x27;s design optimizes all phases of the container pull process:</p>
<ol>
<li><strong>Downloading</strong> layer data from the registry</li>
<li><strong>Decompressing</strong> the layer if necessary</li>
<li><strong>Checking</strong> sha256 digest</li>
<li><strong>Unpacking</strong> the layer, applying changes to the snapshot</li>
</ol>
<p>KAITO addresses these performance characteristics by optimizing not just the download phase (30% of total time) but also the decompression, validation, and unpacking phases through its OCI Artifacts approach.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-kaito-uses-oci-artifacts">How KAITO Uses OCI Artifacts<a href="#how-kaito-uses-oci-artifacts" class="hash-link" aria-label="Direct link to How KAITO Uses OCI Artifacts" title="Direct link to How KAITO Uses OCI Artifacts">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-efficient-build-process">1. Efficient Build Process<a href="#1-efficient-build-process" class="hash-link" aria-label="Direct link to 1. Efficient Build Process" title="Direct link to 1. Efficient Build Process">​</a></h3>
<p>KAITO uses <a href="https://github.com/oras-project/oras" target="_blank" rel="noopener noreferrer">ORAS</a> to package model weights and configuration files directly into OCI artifacts without requiring large build contexts. This approach achieves the same distribution goals as traditional Docker builds but with significantly improved efficiency.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-optimized-compression">2. Optimized Compression<a href="#2-optimized-compression" class="hash-link" aria-label="Direct link to 2. Optimized Compression" title="Direct link to 2. Optimized Compression">​</a></h3>
<p>KAITO employs zstd compression instead of gzip, providing superior decompression performance specifically optimized for large model weight files.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-split-architecture-design">3. Split Architecture Design<a href="#3-split-architecture-design" class="hash-link" aria-label="Direct link to 3. Split Architecture Design" title="Direct link to 3. Split Architecture Design">​</a></h3>
<p>KAITO implements a two-component architecture:</p>
<ul>
<li><strong>Base Image</strong>: Contains the inference runtime and dependencies</li>
<li><strong>OCI Artifacts</strong>: Contains the model weights and configuration files</li>
</ul>
<p>This architectural separation enables model images to be built once and reused across multiple base image updates, significantly reducing maintenance overhead.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-to-use-oci-artifacts">When to Use OCI Artifacts<a href="#when-to-use-oci-artifacts" class="hash-link" aria-label="Direct link to When to Use OCI Artifacts" title="Direct link to When to Use OCI Artifacts">​</a></h2>
<p>KAITO automatically uses OCI Artifacts for supported models, providing benefits in several scenarios:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="recommended-use-cases">Recommended Use Cases<a href="#recommended-use-cases" class="hash-link" aria-label="Direct link to Recommended Use Cases" title="Direct link to Recommended Use Cases">​</a></h3>
<ul>
<li><strong>Large Language Models</strong>: Models with weights exceeding 1GB benefit significantly from the optimized distribution</li>
<li><strong>Frequent Updates</strong>: Environments with regular base image updates for security patches or feature additions</li>
<li><strong>Multi-Model Deployments</strong>: When deploying multiple model variants that share similar runtime requirements</li>
<li><strong>Resource-Constrained Environments</strong>: Clusters where build time and bandwidth optimization are critical</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-considerations">Performance Considerations<a href="#performance-considerations" class="hash-link" aria-label="Direct link to Performance Considerations" title="Direct link to Performance Considerations">​</a></h3>
<p>The OCI Artifacts approach provides the most benefit when:</p>
<ul>
<li>Model weights are large relative to the runtime container</li>
<li>Network bandwidth is limited or expensive</li>
<li>Build infrastructure resources are constrained</li>
<li>Deployment frequency is high</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to Architecture" title="Direct link to Architecture">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="model-weights-download-process">Model Weights Download Process<a href="#model-weights-download-process" class="hash-link" aria-label="Direct link to Model Weights Download Process" title="Direct link to Model Weights Download Process">​</a></h3>
<p>The system uses an <a href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/" target="_blank" rel="noopener noreferrer">initContainer</a> to download model weights as OCI artifacts using ORAS:</p>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oci-artifacts-vs-oci-images">OCI Artifacts vs OCI Images<a href="#oci-artifacts-vs-oci-images" class="hash-link" aria-label="Direct link to OCI Artifacts vs OCI Images" title="Direct link to OCI Artifacts vs OCI Images">​</a></h3>
<p>The Open Container Initiative (OCI) defines specifications and standards for container technologies, including the OCI Distribution Specification. OCI Image Manifests have a required field <code>config.mediaType</code> that differentiates between various types of artifacts.</p>
<ul>
<li><strong>OCI Image</strong>: A subset of OCI artifacts, accepting only specific mediatypes</li>
<li><strong>OCI Artifacts</strong>: More general format that can contain various types of content including model weights</li>
</ul>
<p>ORAS (OCI Registry As Storage) is the tool used for managing OCI artifacts, including pushing, pulling, and handling metadata in OCI registries.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alternative-approaches-for-large-models">Alternative Approaches for Large Models<a href="#alternative-approaches-for-large-models" class="hash-link" aria-label="Direct link to Alternative Approaches for Large Models" title="Direct link to Alternative Approaches for Large Models">​</a></h3>
<p>For extremely large models that may not be practical to package as OCI artifacts due to size constraints, KAITO also supports:</p>
<ul>
<li><strong>Direct Download from Hugging Face</strong>: Models can be downloaded directly from Hugging Face Hub during pod initialization for models that exceed registry limitations</li>
<li><strong>External Model Caching</strong>: Integration with external model caching solutions for improved performance with very large models</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compatibility">Compatibility<a href="#compatibility" class="hash-link" aria-label="Direct link to Compatibility" title="Direct link to Compatibility">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="container-runtimes">Container Runtimes<a href="#container-runtimes" class="hash-link" aria-label="Direct link to Container Runtimes" title="Direct link to Container Runtimes">​</a></h3>
<ul>
<li><strong>CRI-O</strong>: Supports general OCI artifacts</li>
<li><strong>Containerd</strong>: Limited support for OCI artifacts (see <a href="https://github.com/containerd/containerd/issues/11381#issuecomment-2917050414" target="_blank" rel="noopener noreferrer">containerd issue</a>)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oci-registries">OCI Registries<a href="#oci-registries" class="hash-link" aria-label="Direct link to OCI Registries" title="Direct link to OCI Registries">​</a></h3>
<p>Most OCI registries support OCI artifacts. For a complete list of compatible registries, see the <a href="https://oras.land/docs/compatible_oci_registries#registries-supporting-oci-artifacts" target="_blank" rel="noopener noreferrer">ORAS compatibility documentation</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="benefits">Benefits<a href="#benefits" class="hash-link" aria-label="Direct link to Benefits" title="Direct link to Benefits">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-improvements">Performance Improvements<a href="#performance-improvements" class="hash-link" aria-label="Direct link to Performance Improvements" title="Direct link to Performance Improvements">​</a></h3>
<ul>
<li><strong>Reduced Build Time</strong>: Model images only need to be built once</li>
<li><strong>Faster Pulls</strong>: Improved download concurrency and compression</li>
<li><strong>Better Resource Usage</strong>: Optimized bandwidth utilization</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="operational-benefits">Operational Benefits<a href="#operational-benefits" class="hash-link" aria-label="Direct link to Operational Benefits" title="Direct link to Operational Benefits">​</a></h3>
<ul>
<li><strong>Simplified Maintenance</strong>: Base image updates don&#x27;t require rebuilding all model images</li>
<li><strong>Storage Efficiency</strong>: Better compression ratios with zstd</li>
<li><strong>Scalability</strong>: More efficient handling of large model files</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-results">Performance Results<a href="#performance-results" class="hash-link" aria-label="Direct link to Performance Results" title="Direct link to Performance Results">​</a></h2>
<p>Testing on Standard_NC24s_v3 with phi4 model shows significant improvements:</p>
<p><img decoding="async" loading="lazy" alt="Model as OCI Artifacts Evaluation" src="/kaito/docs/assets/images/model-as-oci-artifacts-evaluation-0e455974e0dee66f3659aefe5c50cded.png" width="819" height="489" class="img_ev3q"></p>
<p>The evaluation compared different configurations:</p>
<table><thead><tr><th>Configuration</th><th>Description</th><th>Benefits</th></tr></thead><tbody><tr><td>Baseline (single-layer-tar-gz)</td><td>Current approach with all files in one layer</td><td>Simple, self-contained</td></tr><tr><td>OCI Artifacts</td><td>Base image + separate model artifacts</td><td>Reduced build time, better performance</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started">Getting Started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting Started" title="Direct link to Getting Started">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="automatic-usage">Automatic Usage<a href="#automatic-usage" class="hash-link" aria-label="Direct link to Automatic Usage" title="Direct link to Automatic Usage">​</a></h3>
<p>KAITO automatically uses OCI Artifacts for supported models when the feature is available. No additional configuration is required - simply deploy your model using standard KAITO workflows and the system will optimize the distribution automatically.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verifying-oci-artifacts-usage">Verifying OCI Artifacts Usage<a href="#verifying-oci-artifacts-usage" class="hash-link" aria-label="Direct link to Verifying OCI Artifacts Usage" title="Direct link to Verifying OCI Artifacts Usage">​</a></h3>
<p>To confirm that your model is using OCI Artifacts:</p>
<ol>
<li>Check the pod specification for initContainers that download model artifacts</li>
<li>Monitor pod startup times for improved performance compared to traditional container pulls</li>
<li>Review registry storage to see separate base images and model artifact entries</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h3>
<p>If you encounter issues with OCI Artifacts:</p>
<ul>
<li>Ensure your container runtime supports OCI Artifacts (see Compatibility section)</li>
<li>Verify registry compatibility with OCI Artifacts specification</li>
<li>Check initContainer logs for artifact download status</li>
<li>Refer to the <a href="https://github.com/kaito-project/kaito/blob/main/docs/proposals/20250609-model-as-oci-artifacts.md" target="_blank" rel="noopener noreferrer">technical specification</a> for advanced configuration options</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/kaito-project/kaito/tree/main/website/docs/model-as-oci-artifacts.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/kaito/docs/next/tool-calling"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Tool Calling</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/kaito/docs/next/headlamp-kaito"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Headlamp KAITO</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#design-rationale" class="table-of-contents__link toc-highlight">Design Rationale</a><ul><li><a href="#build-efficiency" class="table-of-contents__link toc-highlight">Build Efficiency</a></li><li><a href="#deployment-performance" class="table-of-contents__link toc-highlight">Deployment Performance</a></li></ul></li><li><a href="#how-kaito-uses-oci-artifacts" class="table-of-contents__link toc-highlight">How KAITO Uses OCI Artifacts</a><ul><li><a href="#1-efficient-build-process" class="table-of-contents__link toc-highlight">1. Efficient Build Process</a></li><li><a href="#2-optimized-compression" class="table-of-contents__link toc-highlight">2. Optimized Compression</a></li><li><a href="#3-split-architecture-design" class="table-of-contents__link toc-highlight">3. Split Architecture Design</a></li></ul></li><li><a href="#when-to-use-oci-artifacts" class="table-of-contents__link toc-highlight">When to Use OCI Artifacts</a><ul><li><a href="#recommended-use-cases" class="table-of-contents__link toc-highlight">Recommended Use Cases</a></li><li><a href="#performance-considerations" class="table-of-contents__link toc-highlight">Performance Considerations</a></li></ul></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a><ul><li><a href="#model-weights-download-process" class="table-of-contents__link toc-highlight">Model Weights Download Process</a></li><li><a href="#oci-artifacts-vs-oci-images" class="table-of-contents__link toc-highlight">OCI Artifacts vs OCI Images</a></li><li><a href="#alternative-approaches-for-large-models" class="table-of-contents__link toc-highlight">Alternative Approaches for Large Models</a></li></ul></li><li><a href="#compatibility" class="table-of-contents__link toc-highlight">Compatibility</a><ul><li><a href="#container-runtimes" class="table-of-contents__link toc-highlight">Container Runtimes</a></li><li><a href="#oci-registries" class="table-of-contents__link toc-highlight">OCI Registries</a></li></ul></li><li><a href="#benefits" class="table-of-contents__link toc-highlight">Benefits</a><ul><li><a href="#performance-improvements" class="table-of-contents__link toc-highlight">Performance Improvements</a></li><li><a href="#operational-benefits" class="table-of-contents__link toc-highlight">Operational Benefits</a></li></ul></li><li><a href="#performance-results" class="table-of-contents__link toc-highlight">Performance Results</a></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a><ul><li><a href="#automatic-usage" class="table-of-contents__link toc-highlight">Automatic Usage</a></li><li><a href="#verifying-oci-artifacts-usage" class="table-of-contents__link toc-highlight">Verifying OCI Artifacts Usage</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/kaito/docs/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/kaito/docs/installation">Installation</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/kaito-project/kaito" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/kaito-z6a6575/shared_invite/zt-37gh89vw7-odHfqmPRc5oRnDG99SBJNA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 KAITO Project, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>