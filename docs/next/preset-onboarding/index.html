<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-preset-onboarding" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Preset onboarding | KAITO</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kaito-project.github.io/kaito/docs/img/kaito-logo.png"><meta data-rh="true" name="twitter:image" content="https://kaito-project.github.io/kaito/docs/img/kaito-logo.png"><meta data-rh="true" property="og:url" content="https://kaito-project.github.io/kaito/docs/next/preset-onboarding"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Preset onboarding | KAITO"><meta data-rh="true" name="description" content="This document describes how to add a new supported OSS model in KAITO. The process is designed to allow community users to initiate the request. KAITO maintainers will follow up and deal with managing the model images and guiding the code changes to set up the model preset configurations."><meta data-rh="true" property="og:description" content="This document describes how to add a new supported OSS model in KAITO. The process is designed to allow community users to initiate the request. KAITO maintainers will follow up and deal with managing the model images and guiding the code changes to set up the model preset configurations."><link data-rh="true" rel="icon" href="/kaito/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kaito-project.github.io/kaito/docs/next/preset-onboarding"><link data-rh="true" rel="alternate" href="https://kaito-project.github.io/kaito/docs/next/preset-onboarding" hreflang="en"><link data-rh="true" rel="alternate" href="https://kaito-project.github.io/kaito/docs/next/preset-onboarding" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://DUMMY_APP_ID-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Preset onboarding","item":"https://kaito-project.github.io/kaito/docs/next/preset-onboarding"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="KAITO" href="/kaito/docs/opensearch.xml">

<meta name="algolia-site-verification" content="DUMMY_SITE_VERIFICATION"><link rel="stylesheet" href="/kaito/docs/assets/css/styles.9700f45c.css">
<script src="/kaito/docs/assets/js/runtime~main.d71ae84e.js" defer="defer"></script>
<script src="/kaito/docs/assets/js/main.5a9d3354.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/kaito/docs/img/kaito-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like KAITO, please give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/kaito-project/kaito">GitHub</a>!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/kaito/docs/"><div class="navbar__logo"><img src="/kaito/docs/img/kaito-logo.png" alt="KAITO Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/kaito/docs/img/kaito-logo.png" alt="KAITO Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">KAITO</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/kaito/docs/next/preset-onboarding">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/kaito/docs/next/preset-onboarding">Next</a></li><li><a class="dropdown__link" href="/kaito/docs/preset-onboarding">v0.6.x</a></li><li><a class="dropdown__link" href="/kaito/docs/v0.5.x/preset-onboarding">v0.5.x</a></li></ul></div><a href="https://github.com/kaito-project/kaito" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kaito/docs/next/">Getting Started</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/presets">Presets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/usage">Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/faq">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kaito/docs/next/azure">Cloud Providers</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/azure">Azure Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/aws">AWS Setup</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kaito/docs/next/inference">Features</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/inference">Inference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/multi-node-inference">Multi-Node Inference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/tuning">Fine Tuning</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/kaito/docs/next/rag">Retrieval-Augmented Generation (RAG)</a><button aria-label="Expand sidebar category &#x27;Retrieval-Augmented Generation (RAG)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/custom-model">Custom Model Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/tool-calling">Tool Calling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/model-as-oci-artifacts">Model As OCI Artifacts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/headlamp-kaito">Headlamp KAITO</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kaito/docs/next/aikit">Integrations</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/aikit">AIKit Integration with KAITO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/gateway-api-inference-extension">Gateway API Inference Extension</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/kaito/docs/next/monitoring">Operations</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/kaito-oom-prevention">OOM Prevention</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/kaito-on-byo-gpu-nodes">Bring Your Own GPU Nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/gpu-benchmarks">GPU Benchmarks</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/kaito/docs/next/contributing">Contributing</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/kaito/docs/next/preset-onboarding">Preset onboarding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kaito/docs/next/proposals">Proposals</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->KAITO<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/kaito/docs/preset-onboarding">latest version</a></b> (<!-- -->v0.6.x<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/kaito/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Contributing</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Preset onboarding</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Preset onboarding</h1></header><p>This document describes how to add a new supported OSS model in KAITO. The process is designed to allow community users to initiate the request. KAITO maintainers will follow up and deal with managing the model images and guiding the code changes to set up the model preset configurations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-make-a-proposal">Step 1: Make a proposal<a href="#step-1-make-a-proposal" class="hash-link" aria-label="Direct link to Step 1: Make a proposal" title="Direct link to Step 1: Make a proposal">​</a></h2>
<p>This step is done by the requestor. The requestor should make a PR to describe the target OSS model following this <a href="https://github.com/kaito-project/kaito/blob/main/docs/proposals/YYYYMMDD-model-template.md" target="_blank" rel="noopener noreferrer">template</a>. The proposal status should be <code>provisional</code> in the beginning. KAITO maintainers will review the PR and decide to accept or reject the PR. The PR could be rejected if the target OSS model has low usage, or it has strict license limitations, or it is a relatively small model with limited capabilities.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-validate-and-test-the-model">Step 2: Validate and test the model<a href="#step-2-validate-and-test-the-model" class="hash-link" aria-label="Direct link to Step 2: Validate and test the model" title="Direct link to Step 2: Validate and test the model">​</a></h2>
<p>This step is done by KAITO maintainers. Based on the information provided in the proposal, KAITO maintainers will download the model and test it using the specified runtime. The entire process is automated via GitHub actions when KAITO maintainers file a PR to add the model to the <a href="https://github.com/kaito-project/kaito/blob/main/presets/workspace/models/supported_models.yaml" target="_blank" rel="noopener noreferrer">supported_models.yaml</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-push-model-image-to-mcr">Step 3: Push model image to MCR<a href="#step-3-push-model-image-to-mcr" class="hash-link" aria-label="Direct link to Step 3: Push model image to MCR" title="Direct link to Step 3: Push model image to MCR">​</a></h2>
<p>This step is done by KAITO maintainers. If the model license allows, KAITO maintainers will push the model image to MCR, making the image publicly available. This step is skipped if only private access is allowed for the model image. Once this step is done, KAITO maintainers will update the status of the proposal submitted in Step 1 to <code>ready to integrate</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-add-preset-configurations">Step 4: Add preset configurations<a href="#step-4-add-preset-configurations" class="hash-link" aria-label="Direct link to Step 4: Add preset configurations" title="Direct link to Step 4: Add preset configurations">​</a></h2>
<p>This step is done by the requestor. The requestor will work on a PR to register the model with preset configurations. The implementation involves several files and components. Below is a detailed guide using the GPT OSS model addition as an example.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-create-the-model-package-structure">4.1 Create the model package structure<a href="#41-create-the-model-package-structure" class="hash-link" aria-label="Direct link to 4.1 Create the model package structure" title="Direct link to 4.1 Create the model package structure">​</a></h3>
<p>Create a new package directory under <code>presets/workspace/models/</code> for your model family. For GPT OSS, this was <code>presets/workspace/models/gpt/</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-implement-the-modelgo-file">4.2 Implement the model.go file<a href="#42-implement-the-modelgo-file" class="hash-link" aria-label="Direct link to 4.2 Implement the model.go file" title="Direct link to 4.2 Implement the model.go file">​</a></h3>
<p>Create a <code>model.go</code> file that implements the model interface. This file must include:</p>
<ol>
<li><strong>Package registration</strong> in the <code>init()</code> function using <code>plugin.KaitoModelRegister.Register()</code></li>
<li><strong>Model constants</strong> that match the names in <code>supported_models.yaml</code></li>
<li><strong>Struct types</strong> implementing the model interface with the following methods:<!-- -->
<ul>
<li><code>GetInferenceParameters() *model.PresetParam</code> -- indicates the requirements and commands for running the model.</li>
<li><code>SupportTuning() bool</code> -- whether or not the model supports fine tuning</li>
<li><code>GetTuningParameters() *model.PresetParam</code> -- if the model supports fine tuning, specifies resource requirements, runtime config, tuning-specific parameters, and if not it returns <code>nil</code>.</li>
<li><code>SupportDistributedInference() bool</code> -- whether or not the model can run on multiple nodes, set to true if the model cannot fit on a large node like H100.</li>
</ul>
</li>
</ol>
<p>Example structure from GPT OSS:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PresetGPT_OSS_20BModel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gpt-oss-20b&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PresetGPT_OSS_120BModel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gpt-oss-120b&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> gpt_oss_20B </span><span class="token keyword" style="color:#00009f">struct</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> gpt_oss_120B </span><span class="token keyword" style="color:#00009f">struct</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-configure-gpu-memory-requirements">4.3 Configure GPU memory requirements<a href="#43-configure-gpu-memory-requirements" class="hash-link" aria-label="Direct link to 4.3 Configure GPU memory requirements" title="Direct link to 4.3 Configure GPU memory requirements">​</a></h3>
<p>In <code>GetInferenceParameters()</code>, specify the GPU memory requirements by checking the model specifications. These can typically be found on the website that provides the model. Hugging Face is a good place to start, and this page for <a href="https://huggingface.co/openai/gpt-oss-120b" target="_blank" rel="noopener noreferrer">GPT-OSS 120B</a> indicates the required GPU memory.</p>
<ul>
<li><code>DiskStorageRequirement</code>: Storage needed for model weights</li>
<li><code>TotalGPUMemoryRequirement</code>: Total GPU memory needed (e.g., &quot;16Gi&quot; for 20B, &quot;80Gi&quot; for 120B)</li>
<li><code>GPUCountRequirement</code>: Number of GPUs required</li>
<li><code>PerGPUMemoryRequirement</code>: Set to &quot;0Gi&quot; for models with native parallel support</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="44-configure-runtime-parameters">4.4 Configure runtime parameters<a href="#44-configure-runtime-parameters" class="hash-link" aria-label="Direct link to 4.4 Configure runtime parameters" title="Direct link to 4.4 Configure runtime parameters">​</a></h3>
<p>Define runtime parameters for both Transformers and vLLM in the <code>RuntimeParam</code> struct:</p>
<p><strong>For Transformers runtime:</strong></p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Transformers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">HuggingfaceTransformersParam</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BaseCommand</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">       </span><span class="token string" style="color:#e3116c">&quot;accelerate launch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ModelRunParams</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">    gptRunParams</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Model-specific parameters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>For vLLM runtime:</strong></p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">VLLM</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">VLLMParam</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BaseCommand</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">    inference</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DefaultVLLMCommand</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ModelName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">     PresetGPT_OSS_20BModel</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ModelRunParams</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gptRunParamsVLLM</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// vLLM-specific parameters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>The vLLM run parameters will likely have a <code>dtype</code> field as follows and may also require additional values.</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gptRunParamsVLLM </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">map</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">]</span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;dtype&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">             </span><span class="token string" style="color:#e3116c">&quot;float16&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Special runtime parameters you may need</strong>:</p>
<ul>
<li><code>&quot;trust_remote_code&quot;: &quot;&quot;</code> - For models that require remote code execution (like Phi models)</li>
<li><code>&quot;allow_remote_files&quot;: &quot;&quot;</code> - For models that need to fetch additional files at runtime (like GPT OSS, DeepSeek)</li>
<li><code>&quot;reasoning-parser&quot;: &quot;deepseek_r1&quot;</code> - For models with specific reasoning capabilities</li>
<li><code>&quot;tool-call-parser&quot;: &quot;model_specific&quot;</code> - For models supporting function calling</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="45-configure-chat-templates-when-needed">4.5 Configure chat templates (when needed)<a href="#45-configure-chat-templates-when-needed" class="hash-link" aria-label="Direct link to 4.5 Configure chat templates (when needed)" title="Direct link to 4.5 Configure chat templates (when needed)">​</a></h3>
<p>Some models require custom chat templates for proper formatting of chat-based interactions. If your model needs a specific chat template:</p>
<ol>
<li>
<p><strong>Create a Jinja template file</strong> in <code>/presets/workspace/inference/chat_templates/</code> following the naming pattern. For example:</p>
<ul>
<li><code>tool-chat-deepseekr1.jinja</code> for DeepSeek R1 models</li>
<li><code>tool-chat-phi4-mini.jinja</code> for Phi-4 Mini models</li>
</ul>
</li>
<li>
<p><strong>Reference the template in vLLM parameters</strong>:</p>
</li>
</ol>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">modelRunParamsVLLM </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">map</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">]</span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;dtype&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">                   </span><span class="token string" style="color:#e3116c">&quot;float16&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;chat-template&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">           </span><span class="token string" style="color:#e3116c">&quot;/workspace/chat_templates/tool-chat-modelname.jinja&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;tool-call-parser&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;model_specific_parser&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;enable-auto-tool-choice&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ol start="3">
<li><strong>When to add chat templates</strong>:<!-- -->
<ul>
<li>Models that support function/tool calling</li>
<li>Models with specific conversation formatting requirements</li>
<li>Models that need custom reasoning parsers (like DeepSeek R1)</li>
</ul>
</li>
</ol>
<p>Refer to <code>/presets/workspace/inference/chat_templates/chat_template_guide.md</code> for detailed guidance on creating chat templates.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="46-configure-tuning-support-optional">4.6 Configure tuning support (optional)<a href="#46-configure-tuning-support-optional" class="hash-link" aria-label="Direct link to 4.6 Configure tuning support (optional)" title="Direct link to 4.6 Configure tuning support (optional)">​</a></h3>
<p>If your model supports fine-tuning, implement the <code>GetTuningParameters()</code> method and set <code>SupportTuning()</code> to return <code>true</code>:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">modelName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetTuningParameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PresetParam </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PresetParam</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">                  metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">MustGet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PresetModelName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DiskStorageRequirement</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;90Gi&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        GPUCountRequirement</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">       </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TotalGPUMemoryRequirement</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;16Gi&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PerGPUMemoryRequirement</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;16Gi&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RuntimeParam</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">RuntimeParam</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Transformers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">HuggingfaceTransformersParam</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                BaseCommand</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">      baseCommandPresetModelTuning</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                AccelerateParams</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tuning</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DefaultAccelerateParams</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ReadinessTimeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">              time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Duration</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Minute</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TuningPerGPUMemoryRequirement</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">map</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">]</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;qlora&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">modelName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SupportTuning</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token builtin">bool</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>If your model doesn&#x27;t support tuning, simply return <code>nil</code> from <code>GetTuningParameters()</code> and <code>false</code> from <code>SupportTuning()</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="47-set-distributed-inference-support">4.7 Set distributed inference support<a href="#47-set-distributed-inference-support" class="hash-link" aria-label="Direct link to 4.7 Set distributed inference support" title="Direct link to 4.7 Set distributed inference support">​</a></h3>
<p>Use <code>SupportDistributedInference()</code> to indicate whether the model can be distributed across multiple nodes:</p>
<ul>
<li>Return <code>false</code> for models that fit on a single node (like GPT OSS 20B)</li>
<li>Return <code>true</code> for larger models that may benefit from distribution (like GPT OSS 120B) or cannot fit on a single node, like Llama 3.3 70B.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="48-add-model-entries-to-supported_modelsyaml">4.8 Add model entries to supported_models.yaml<a href="#48-add-model-entries-to-supported_modelsyaml" class="hash-link" aria-label="Direct link to 4.8 Add model entries to supported_models.yaml" title="Direct link to 4.8 Add model entries to supported_models.yaml">​</a></h3>
<p>Add your model entries to <code>/presets/workspace/models/supported_models.yaml</code>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># GPT-OSS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gpt</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">oss</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">20b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> text</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">generation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//huggingface.co/openai/gpt</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">oss</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">20b/commit/</span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">runtime</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">downloadAtRuntime</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tag</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.0.1</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="49-create-example-workspace-files">4.9 Create example workspace files<a href="#49-create-example-workspace-files" class="hash-link" aria-label="Direct link to 4.9 Create example workspace files" title="Direct link to 4.9 Create example workspace files">​</a></h3>
<p>Create example workspace YAML files in <code>/examples/inference/</code> (e.g., <code>kaito_workspace_gpt_oss_20b.yaml</code>):</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kaito.sh/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> workspace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">gpt</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">oss</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">20b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">resource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">instanceType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Standard_NC24ads_A100_v4&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Choose appropriate GPU instance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labelSelector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">apps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gpt</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">oss</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">20b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">inference</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">preset</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gpt-oss-20b&quot;</span><br></span></code></pre></div></div>
<p>Choose instance types based on GPU memory requirements. Some examples include:</p>
<ul>
<li>For models requiring ~20-24GB: <code>Standard_NC24ads_A100_v4</code> (A100 with 80GB)</li>
<li>For models requiring 80GB: <code>Standard_NC24ads_A100_v4</code> (A100 with 80GB)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="410-add-a-readme-for-the-model-family">4.10 Add a README for the model family<a href="#410-add-a-readme-for-the-model-family" class="hash-link" aria-label="Direct link to 4.10 Add a README for the model family" title="Direct link to 4.10 Add a README for the model family">​</a></h3>
<p>Create <code>/presets/workspace/models/{model_family}/README.md</code> following the standard format used by other models:</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Supported Models</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row table-header important"> Model name </span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row table-header important"> Model source </span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row table-header important"> Sample workspace </span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row table-header important"> Kubernetes Workload </span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row table-header important"> Distributed inference </span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-header-row"></span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line punctuation" style="color:#393A34">------------</span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line punctuation" style="color:#393A34">--------------</span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line punctuation" style="color:#393A34">------------------</span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line punctuation" style="color:#393A34">--------------------</span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line punctuation" style="color:#393A34">--------------------</span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-line"></span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> gpt-oss-20b </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> </span><span class="token table table-data-rows table-data url" style="color:#36acaa">[</span><span class="token table table-data-rows table-data url content" style="color:#36acaa">openai</span><span class="token table table-data-rows table-data url" style="color:#36acaa">](</span><span class="token table table-data-rows table-data url" style="color:#36acaa">https://huggingface.co/openai/gpt-oss-20b</span><span class="token table table-data-rows table-data url" style="color:#36acaa">)</span><span class="token table table-data-rows table-data"> </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> </span><span class="token table table-data-rows table-data url" style="color:#36acaa">[</span><span class="token table table-data-rows table-data url content" style="color:#36acaa">link</span><span class="token table table-data-rows table-data url" style="color:#36acaa">](</span><span class="token table table-data-rows table-data url" style="color:#36acaa">../../../../examples/inference/kaito_workspace_gpt_oss_20b.yaml</span><span class="token table table-data-rows table-data url" style="color:#36acaa">)</span><span class="token table table-data-rows table-data"> </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> Deployment </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> false </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-add-e2e-tests">Step 5: Add E2E tests<a href="#step-5-add-e2e-tests" class="hash-link" aria-label="Direct link to Step 5: Add E2E tests" title="Direct link to Step 5: Add E2E tests">​</a></h2>
<p>This step is done by the requestor. Add comprehensive test coverage for both Transformers and vLLM runtimes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-add-tests-to-preset_testgo">5.1 Add tests to preset_test.go<a href="#51-add-tests-to-preset_testgo" class="hash-link" aria-label="Direct link to 5.1 Add tests to preset_test.go" title="Direct link to 5.1 Add tests to preset_test.go">​</a></h3>
<p>Add test functions to <code>/test/e2e/preset_test.go</code>. For example, the test for GPT-OSS 20B is as follows</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">It</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;should create a gpt-oss-20b workspace with preset public mode successfully&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GinkgoLabelFastCheck</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    numOfNode </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workspaceObj </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createGPTOss20BWorkspaceWithPresetPublicMode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">numOfNode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">defer</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cleanupResources</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Second</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateCreateNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> numOfNode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateResourceStatus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Second</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateAssociatedService</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateInferenceConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateInferenceResource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">int32</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">numOfNode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateWorkspaceReadiness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-add-vllm-tests-to-preset_vllm_testgo">5.2 Add vLLM tests to preset_vllm_test.go<a href="#52-add-vllm-tests-to-preset_vllm_testgo" class="hash-link" aria-label="Direct link to 5.2 Add vLLM tests to preset_vllm_test.go" title="Direct link to 5.2 Add vLLM tests to preset_vllm_test.go">​</a></h3>
<p>If the model supports vLLM, add a corresponding vLLM test to <code>/test/e2e/preset_vllm_test.go</code> following the same pattern. The test should be similar to this:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">It</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;should create a gpt-oss-20b workspace with preset public mode successfully&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GinkgoLabelA100Required</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    numOfNode </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workspaceObj </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createGPTOss20BWorkspaceWithPresetPublicModeAndVLLM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">numOfNode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">defer</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cleanupResources</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Second</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateCreateNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> numOfNode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateResourceStatus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Second</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateAssociatedService</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateInferenceConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateInferenceResource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">int32</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">numOfNode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateWorkspaceReadiness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateModelsEndpoint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateCompletionsEndpoint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">validateGatewayAPIInferenceExtensionResources</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">workspaceObj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-update-test-configuration-files">5.3 Update test configuration files<a href="#53-update-test-configuration-files" class="hash-link" aria-label="Direct link to 5.3 Update test configuration files" title="Direct link to 5.3 Update test configuration files">​</a></h3>
<p>Update <code>/.github/e2e-preset-configs.json</code> with the new model information and command. For GPT-OSS 20B, the entry might look like this:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gpt-oss-20b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;node-count&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;node-vm-size&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Standard_NC24ads_A100_v4&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;node-osdisk-size&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">120</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;OSS&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;loads_adapter&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;node_pool&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gptoss20b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;runtimes&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;hf&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;command&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;accelerate launch --num_processes 1 --num_machines 1 --machine_rank 0 --gpu_ids all /workspace/tfs/inference_api.py --pipeline text-generation --torch_dtype auto --allow_remote_files&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;gpu_count&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-6-update-additional-configuration-files">Step 6: Update additional configuration files<a href="#step-6-update-additional-configuration-files" class="hash-link" aria-label="Direct link to Step 6: Update additional configuration files" title="Direct link to Step 6: Update additional configuration files">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-update-helm-chart-configuration">6.1 Update Helm chart configuration<a href="#61-update-helm-chart-configuration" class="hash-link" aria-label="Direct link to 6.1 Update Helm chart configuration" title="Direct link to 6.1 Update Helm chart configuration">​</a></h3>
<p>Update <code>/charts/kaito/workspace/templates/supported-models-configmap.yaml</code> to include the new model in the Kubernetes ConfigMap that the workspace controller uses.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-update-documentation">6.2 Update documentation<a href="#62-update-documentation" class="hash-link" aria-label="Direct link to 6.2 Update documentation" title="Direct link to 6.2 Update documentation">​</a></h3>
<p>Consider updating the following documentation files:</p>
<ul>
<li><code>/website/docs/gpu-benchmarks.md</code>: Add performance benchmarks if available</li>
<li>Any model-specific documentation that references supported models</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary-of-files-to-modify-for-a-new-preset">Summary of files to modify for a new preset<a href="#summary-of-files-to-modify-for-a-new-preset" class="hash-link" aria-label="Direct link to Summary of files to modify for a new preset" title="Direct link to Summary of files to modify for a new preset">​</a></h2>
<p>When adding a new model preset, you will need to create or modify the following files:</p>
<p><strong>Core implementation:</strong></p>
<ol>
<li><code>/presets/workspace/models/{model_family}/model.go</code> - Main model implementation</li>
<li><code>/presets/workspace/models/{model_family}/README.md</code> - Documentation</li>
<li><code>/presets/workspace/models/supported_models.yaml</code> - Model registry</li>
</ol>
<p><strong>Examples and documentation:</strong>
4. <code>/examples/inference/kaito_workspace_{model_name}.yaml</code> - Example workspace files</p>
<p><strong>Testing:</strong>
5. <code>/test/e2e/preset_test.go</code> - Transformers runtime tests
6. <code>/test/e2e/preset_vllm_test.go</code> - vLLM runtime tests
7. <code>/.github/e2e-preset-configs.json</code> - CI test configuration</p>
<p><strong>Deployment configuration:</strong>
8. <code>/charts/kaito/workspace/templates/supported-models-configmap.yaml</code> - Helm chart ConfigMap</p>
<p><strong>Chat templates (when needed):</strong>
9. <code>/presets/workspace/inference/chat_templates/{model_name}.jinja</code> - Custom chat templates for models requiring specific formatting</p>
<p><strong>Optional documentation updates:</strong>
10. <code>/website/docs/gpu-benchmarks.md</code> - Performance documentation
11. Other relevant documentation files</p>
<p>In the same PR, or a separate PR, the status of the proposal status should be updated to <code>integrated</code>.</p>
<p>After all the above steps are completed, a new model becomes available in KAITO. The comprehensive implementation ensures that the model works with both Transformers and vLLM runtimes, has proper test coverage, and follows KAITO&#x27;s established patterns for consistency and maintainability.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/kaito-project/kaito/tree/main/website/docs/preset-onboarding.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/kaito/docs/next/contributing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Contributing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/kaito/docs/next/proposals"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Proposals</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-make-a-proposal" class="table-of-contents__link toc-highlight">Step 1: Make a proposal</a></li><li><a href="#step-2-validate-and-test-the-model" class="table-of-contents__link toc-highlight">Step 2: Validate and test the model</a></li><li><a href="#step-3-push-model-image-to-mcr" class="table-of-contents__link toc-highlight">Step 3: Push model image to MCR</a></li><li><a href="#step-4-add-preset-configurations" class="table-of-contents__link toc-highlight">Step 4: Add preset configurations</a><ul><li><a href="#41-create-the-model-package-structure" class="table-of-contents__link toc-highlight">4.1 Create the model package structure</a></li><li><a href="#42-implement-the-modelgo-file" class="table-of-contents__link toc-highlight">4.2 Implement the model.go file</a></li><li><a href="#43-configure-gpu-memory-requirements" class="table-of-contents__link toc-highlight">4.3 Configure GPU memory requirements</a></li><li><a href="#44-configure-runtime-parameters" class="table-of-contents__link toc-highlight">4.4 Configure runtime parameters</a></li><li><a href="#45-configure-chat-templates-when-needed" class="table-of-contents__link toc-highlight">4.5 Configure chat templates (when needed)</a></li><li><a href="#46-configure-tuning-support-optional" class="table-of-contents__link toc-highlight">4.6 Configure tuning support (optional)</a></li><li><a href="#47-set-distributed-inference-support" class="table-of-contents__link toc-highlight">4.7 Set distributed inference support</a></li><li><a href="#48-add-model-entries-to-supported_modelsyaml" class="table-of-contents__link toc-highlight">4.8 Add model entries to supported_models.yaml</a></li><li><a href="#49-create-example-workspace-files" class="table-of-contents__link toc-highlight">4.9 Create example workspace files</a></li><li><a href="#410-add-a-readme-for-the-model-family" class="table-of-contents__link toc-highlight">4.10 Add a README for the model family</a></li></ul></li><li><a href="#step-5-add-e2e-tests" class="table-of-contents__link toc-highlight">Step 5: Add E2E tests</a><ul><li><a href="#51-add-tests-to-preset_testgo" class="table-of-contents__link toc-highlight">5.1 Add tests to preset_test.go</a></li><li><a href="#52-add-vllm-tests-to-preset_vllm_testgo" class="table-of-contents__link toc-highlight">5.2 Add vLLM tests to preset_vllm_test.go</a></li><li><a href="#53-update-test-configuration-files" class="table-of-contents__link toc-highlight">5.3 Update test configuration files</a></li></ul></li><li><a href="#step-6-update-additional-configuration-files" class="table-of-contents__link toc-highlight">Step 6: Update additional configuration files</a><ul><li><a href="#61-update-helm-chart-configuration" class="table-of-contents__link toc-highlight">6.1 Update Helm chart configuration</a></li><li><a href="#62-update-documentation" class="table-of-contents__link toc-highlight">6.2 Update documentation</a></li></ul></li><li><a href="#summary-of-files-to-modify-for-a-new-preset" class="table-of-contents__link toc-highlight">Summary of files to modify for a new preset</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/kaito/docs/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/kaito/docs/installation">Installation</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/kaito-project/kaito" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://cloud-native.slack.com/archives/C09B4EWCZ5M" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 KAITO Project, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>